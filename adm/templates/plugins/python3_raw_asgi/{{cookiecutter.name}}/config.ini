{% extends "_common/config.ini" %}

{% if cookiecutter.forwarded_allows_ips == "NULL" or cookiecutter.forwarded_allows_ips == "forwarded ips or NULL" %}
{% set cmd_and_args="uvicorn {debug_extra_options} --uds \"{unix_socket_path}\" --workers 1 {app_name}.application:app" %}
{% else %}
{% set cmd_and_args="uvicorn {debug_extra_options} --uds \"{unix_socket_path}\" --proxy-headers --forwarded-allow-ips=\"" + cookiecutter.forwarded_allows_ips + "\" --workers 1 {app_name}.application:app" %}
{% endif %}

{% set debug_extra_options="--access-log --log-level=debug" %}
